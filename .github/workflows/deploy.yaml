name: Deploying
on: 
    workflow_call: 
        inputs:
            sufix:
                required: true
                type: string
            prefix:
                required: true
                type: string
            files:
                required: true
                type: string
            path:
                required: true
                type: string
            env:
                required: true
                type: string

jobs:
    deploy-call:
        environment: ${{ inputs.env }}
        runs-on: [ubuntu-latest]
        steps:
            - uses: cschleiden/replace-tokens@v1
              with:
                files: '${{ inputs.files }}'
                tokenPrefix: '${{ inputs.prefix }}'
                tokenSuffix: '${{ inputs.sufix }}'

            - name: Deploying
              run: |
               ls -r
               cat ./kubernetes/development/deployment.yaml #kubectl apply -f ${{ inputs.PATH }}